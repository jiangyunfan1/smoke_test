https://github.com/kwkroeger/smem/blob/master/smem